<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Best Friend Forever ğŸ’</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    height: 100vh;
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
    color: white;
}

/* Video Background */
video {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -2;
    filter: brightness(0.6);
}

/* Overlay gradient */
.overlay {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, rgba(255,105,180,0.4), rgba(138,43,226,0.4));
    z-index: -1;
}

/* Screens */
.screen {
    display: none;
    height: 100vh;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
}

.active { display: flex; }

/* Glass Card */
.card {
    background: rgba(255,255,255,0.2);
    backdrop-filter: blur(15px);
    padding: 30px 25px;
    border-radius: 25px;
    max-width: 380px;
    width: 100%;
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
}

h1 {
    color: #000000;
    margin-bottom: 10px;
}

p {
    color: #000000;
    font-size: 16px;
    margin-bottom: 20px;
}

/* Buttons */
button {
    padding: 12px 28px;
    margin: 10px;
    font-size: 16px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: 0.3s;
}

.yes {
    background: linear-gradient(135deg, #ff4d6d, #ff85f7);
    color: white;
    box-shadow: 0 10px 20px rgba(255,77,109,0.5);
}

.yes:hover { transform: scale(1.1); }

.no {
    background: #eee;
    color: #333;
    position: relative;
}

/* Tic Tac Toe */
.board {
    display: grid;
    grid-template-columns: repeat(3, 90px);
    gap: 12px;
    justify-content: center;
    margin-top: 15px;
}

.cell {
    width: 90px;
    height: 90px;
    background: rgba(255,255,255,0.85);
    color: #ff4d88;
    font-size: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 18px;
}

#gameMsg {
    margin-top: 15px;
    font-weight: bold;
}

/* Final Image */
.final img {
    width: 240px;
    border-radius: 22px;
    margin-top: 15px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.4);
}
</style>
</head>

<body>

<video autoplay muted loop>
  <source src="https://www.pexels.com/download/video/32197846/" type="video/mp4">
</video>
<div class="overlay"></div>

<!-- Screen 1 -->
<div class="screen active" id="screen1">
  <div class="card">
    <h1>Hey ğŸ’•</h1>
    <p>Will you be my Best Friend Forever? ğŸŒ¸</p>
    <button class="yes" onclick="goTo(2)">Yes ğŸ™‚â€â†•ï¸</button>
    <button class="no" id="noBtn">No ğŸ™ƒ</button>
  </div>
</div>

<!-- Screen 2 -->
<div class="screen" id="screen2">
  <div class="card">
    <h1>Really? ğŸ˜</h1>
    <p>Then prove it by winning this game ğŸ®</p>
    <button class="yes" onclick="goTo(3)">Letâ€™s Play ğŸ’–</button>
  </div>
</div>

<!-- Screen 3 -->
<div class="screen" id="screen3">
  <div class="card">
    <h1>Tic Tac Toe âœ¨</h1>
    <div class="board" id="board"></div>
    <p id="gameMsg"></p>
    <button class="yes" id="playAgainBtn" style="display:none;" onclick="resetGame()">Play Again ğŸ”</button>
  </div>
</div>

<!-- Final Screen -->
<div class="screen final" id="screen4">
  <div class="card">
    <h1>Best Friends Forever ğŸ’</h1>
    <p>Youâ€™re special & always will be ğŸŒ·</p>
    <img src="https://w0.peakpx.com/wallpaper/196/470/HD-wallpaper-anime-couple-scenic-romance-clouds-cute-anime.jpg" alt="anime couple">
    <p>Promise to stay smiling together ğŸ˜Š</p>
  </div>
</div>

<script>
/* NO button roam */
const noBtn = document.getElementById("noBtn");
noBtn.addEventListener("mouseover",()=>moveNo(70));
noBtn.addEventListener("touchstart",()=>moveNo(70));

function moveNo(r){
  const x=(Math.random()*r)-(r/2);
  const y=(Math.random()*r)-(r/2);
  noBtn.style.transform=`translate(${x}px,${y}px)`;
}

/* Navigation */
function goTo(n){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById('screen'+n).classList.add('active');
}

/* Game Logic */
const board=document.getElementById("board");
const msg=document.getElementById("gameMsg");
const playAgainBtn=document.getElementById("playAgainBtn");
let cells, gameOver;

function initGame(){
  board.innerHTML="";
  cells=Array(9).fill(null);
  gameOver=false;
  msg.textContent="";
  playAgainBtn.style.display="none";

  cells.forEach((_,i)=>{
    const c=document.createElement("div");
    c.className="cell";
    c.onclick=()=>play(i,c);
    board.appendChild(c);
  });
}
initGame();

function play(i,cell){
  if(cells[i]||gameOver)return;
  cell.textContent="X";
  cells[i]="X";

  if(check("X")){
    msg.textContent="You win ğŸ˜";
    gameOver=true;
    setTimeout(()=>goTo(4),1200);
    return;
  }

  if(cells.every(c=>c)){
    draw();
    return;
  }

  aiMove();
}

function aiMove(){
  let empty=cells.map((v,i)=>v?null:i).filter(v=>v!==null);
  let m=empty[Math.floor(Math.random()*empty.length)];
  cells[m]="O";
  board.children[m].textContent="O";

  if(check("O")){
    msg.textContent="I won ğŸ˜œ Try again!";
    endGame();
  } else if(cells.every(c=>c)){
    draw();
  }
}

function draw(){
  msg.textContent="Itâ€™s a draw ğŸ˜„";
  endGame();
}

function endGame(){
  gameOver=true;
  playAgainBtn.style.display="inline-block";
}

function resetGame(){
  initGame();
}

function check(p){
  const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  return w.some(a=>a.every(i=>cells[i]===p));
}
</script>

</body>
</html>
